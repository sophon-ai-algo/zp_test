

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Sophon Inference User Manual &mdash; SophonInference  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Getting Started" href="0_get_start.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home"> SophonInference
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="0_get_start.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="1_demo.html">Practical Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="2_module.html">API Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">SophonInference</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#">Docs</a> &raquo;</li>
        
      <li>Sophon Inference User Manual</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sophon-inference-user-manual">
<h1>Sophon Inference User Manual<a class="headerlink" href="#sophon-inference-user-manual" title="Permalink to this headline">¶</a></h1>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/logo.png"><img alt="_images/logo.png" src="_images/logo.png" style="width: 200.0px; height: 200.0px;" /></a>
</div>
<div class="line-block">
<div class="line"><strong>Legal Disclaimer</strong></div>
<div class="line">Copyright © Bitmain Technologies Co., Ltd. 2019. All rights reserved.</div>
<div class="line">No part of this document may be reproduced or transmitted in any form or by any means without prior written consent of Bitmain Technologies Co., Ltd.</div>
</div>
<div class="line-block">
<div class="line"><strong>Notice</strong></div>
<div class="line">The purchased products, services and features are stipulated by the contract made between Bitmain and the
customer. All or part of the products, services and features described in this document may not be within the
purchase scope or the usage scope. Unless otherwise specified in the contract, all statements, information,
and recommendations in this document are provided “AS IS” without warranties, guarantees or
representations of any kind, either express or implied. The information in this document is subject to change
without notice. Every effort has been made in the preparation of this document to ensure accuracy of the
contents, but all statements, information, and recommendations in this document do not constitute a
warranty of any kind, express or implied.</div>
</div>
<div class="line-block">
<div class="line"><strong>Technical Support</strong></div>
<div class="line">Bitmain Technologies Co., Ltd.</div>
<div class="line">Address：Building 25, North Olympic Science &amp; Technology Park, Baosheng South Road, Haidian District, Beijing, 100029, China</div>
<div class="line">Website: www.sophon.ai</div>
<div class="line">Email：<a class="reference external" href="mailto:support&#46;ai&#37;&#52;&#48;bitmain&#46;com">support<span>&#46;</span>ai<span>&#64;</span>bitmain<span>&#46;</span>com</a></div>
</div>
<div class="line-block">
<div class="line"><strong>Change History</strong></div>
</div>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="25%" />
<col width="55%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Version</th>
<th class="head">Date</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>V2.0.1</td>
<td>2019.11.15</td>
<td>First official release</td>
</tr>
</tbody>
</table>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="0_get_start.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="get_start/0_products.html">Sophon Products</a><ul>
<li class="toctree-l3"><a class="reference internal" href="get_start/pros/sc.html">Sophon SC serials</a></li>
<li class="toctree-l3"><a class="reference internal" href="get_start/pros/se.html">Sophon SE serials</a></li>
<li class="toctree-l3"><a class="reference internal" href="get_start/pros/sa.html">Sophon SA serials</a></li>
<li class="toctree-l3"><a class="reference internal" href="get_start/pros/sm.html">Sophon SM serials</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="get_start/1_crash_course.html">Crash Course</a><ul>
<li class="toctree-l3"><a class="reference internal" href="get_start/courses/install.html">install BMNNSDK2 and Sophon-Inference on PC with SC5</a></li>
<li class="toctree-l3"><a class="reference internal" href="get_start/courses/convert.html">convert tensorflow frozen model to bmodel using bmnett</a></li>
<li class="toctree-l3"><a class="reference internal" href="get_start/courses/deploy.html">deploy bmodel on Sophon SC5 using sail</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="get_start/3_introduction.html">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="get_start/intros/deploy.html">Model deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="get_start/intros/bmnnsdk.html">BMNNSDK</a></li>
<li class="toctree-l3"><a class="reference internal" href="get_start/intros/si.html">Sophon Inference</a></li>
<li class="toctree-l3"><a class="reference internal" href="get_start/intros/install.html">Sophon Inference Installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="get_start/intros/install.html#pcie-mode">PCIE mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="get_start/intros/install.html#soc-mode">SOC mode</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="1_demo.html">Practical Demos</a><ul>
<li class="toctree-l2"><a class="reference internal" href="demo/0_preface.html">Preface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="demo/0_preface.html#the-difference-among-cases-in-a-demo">The difference among cases in a demo</a></li>
<li class="toctree-l3"><a class="reference internal" href="demo/0_preface.html#return-values">Return Values</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="demo/1_resnet50.html">Classification with Resnet</a><ul>
<li class="toctree-l3"><a class="reference internal" href="demo/resnet_cases/usage.html">Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="demo/resnet_cases/usage.html#get-model-and-data">Get model and data</a></li>
<li class="toctree-l4"><a class="reference internal" href="demo/resnet_cases/usage.html#run-c-cases">Run C++ cases</a></li>
<li class="toctree-l4"><a class="reference internal" href="demo/resnet_cases/usage.html#run-python-cases">Run python cases</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="demo/resnet_cases/cpp.html">C++ Codes Explanation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="demo/resnet_cases/cpp.html#case-0-simplest-case">Case 0: simplest case</a></li>
<li class="toctree-l4"><a class="reference internal" href="demo/resnet_cases/cpp.html#case-1-multi-thread-implementation-of-case-0">Case 1: multi-thread implementation of case 0</a></li>
<li class="toctree-l4"><a class="reference internal" href="demo/resnet_cases/cpp.html#case-2-multi-thread-with-multiple-models">Case 2: multi-thread with multiple models</a></li>
<li class="toctree-l4"><a class="reference internal" href="demo/resnet_cases/cpp.html#case-3-multi-thread-with-multiple-tpus">Case 3: multi-thread with multiple TPUs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="demo/resnet_cases/python.html">Python Codes Explanation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="demo/resnet_cases/python.html#case-0-simplest-case">Case 0: simplest case</a></li>
<li class="toctree-l4"><a class="reference internal" href="demo/resnet_cases/python.html#case-1-multi-thread-implementation-of-case-0">Case 1: multi-thread implementation of case 0</a></li>
<li class="toctree-l4"><a class="reference internal" href="demo/resnet_cases/python.html#case-2-multi-thread-with-multiple-models">Case 2: multi-thread with multiple models</a></li>
<li class="toctree-l4"><a class="reference internal" href="demo/resnet_cases/python.html#case-3-multi-thread-with-multiple-tpus">Case 3: multi-thread with multiple TPUs</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="demo/2_ssd.html">Detection with SSD</a><ul>
<li class="toctree-l3"><a class="reference internal" href="demo/ssd_cases/usage.html">Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="demo/ssd_cases/usage.html#get-model-and-data">Get model and data</a></li>
<li class="toctree-l4"><a class="reference internal" href="demo/ssd_cases/usage.html#run-c-cases">Run C++ cases</a></li>
<li class="toctree-l4"><a class="reference internal" href="demo/ssd_cases/usage.html#run-python-cases">Run python cases</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="demo/ssd_cases/cpp.html">C++ Codes Explanation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="demo/ssd_cases/cpp.html#case-0-decoding-and-preprocessing-with-opencv">Case 0: decoding and preprocessing with opencv</a></li>
<li class="toctree-l4"><a class="reference internal" href="demo/ssd_cases/cpp.html#case-1-decoding-with-bm-ffmpeg-and-preprocessing-with-bmcv">Case 1: decoding with bm-ffmpeg and preprocessing with bmcv</a></li>
<li class="toctree-l4"><a class="reference internal" href="demo/ssd_cases/cpp.html#case-2-decoding-with-bm-ffmpeg-and-preprocessing-with-bmcv-4n-mode">Case 2: decoding with bm-ffmpeg and preprocessing with bmcv, 4N-mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="demo/ssd_cases/cpp.html#case-3-decoding-and-preprocessing-with-bm-opencv">Case 3: decoding and preprocessing with bm-opencv</a></li>
<li class="toctree-l4"><a class="reference internal" href="demo/ssd_cases/cpp.html#case-4-decoding-with-bm-opencv-and-preprocessing-with-bmcv">Case 4: decoding with bm-opencv and preprocessing with bmcv</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="demo/ssd_cases/python.html">Python Codes Explanation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="demo/ssd_cases/python.html#case-0-decoding-and-preprocessing-with-opencv">Case 0: decoding and preprocessing with opencv</a></li>
<li class="toctree-l4"><a class="reference internal" href="demo/ssd_cases/python.html#case-1-decoding-with-bm-ffmpeg-and-preprocessing-with-bmcv">Case 1: decoding with bm-ffmpeg and preprocessing with bmcv</a></li>
<li class="toctree-l4"><a class="reference internal" href="demo/ssd_cases/python.html#case-2-decoding-with-bm-ffmpeg-and-preprocessing-with-bmcv-4n-mode">Case 2: decoding with bm-ffmpeg and preprocessing with bmcv, 4N-mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="demo/ssd_cases/python.html#case-3-decoding-and-preprocessing-with-bm-opencv">Case 3: decoding and preprocessing with bm-opencv</a></li>
<li class="toctree-l4"><a class="reference internal" href="demo/ssd_cases/python.html#case-4-decoding-with-bm-opencv-and-preprocessing-with-bmcv">Case 4: decoding with bm-opencv and preprocessing with bmcv</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="demo/3_yolov3.html">Detection with Yolov3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="demo/yolov3_cases/usage.html">Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="demo/yolov3_cases/usage.html#get-model-and-data">Get model and data</a></li>
<li class="toctree-l4"><a class="reference internal" href="demo/yolov3_cases/usage.html#run-c-cases">Run C++ cases</a></li>
<li class="toctree-l4"><a class="reference internal" href="demo/yolov3_cases/usage.html#run-python-cases">Run python cases</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="demo/yolov3_cases/cpp.html">C++ Codes Explanation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="demo/yolov3_cases/cpp.html#case-0-decoding-and-preprocessing-with-opencv">Case 0: decoding and preprocessing with opencv</a></li>
<li class="toctree-l4"><a class="reference internal" href="demo/yolov3_cases/cpp.html#case-1-decoding-with-bm-ffmpeg-and-preprocessing-with-bmcv">Case 1: decoding with bm-ffmpeg and preprocessing with bmcv</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="demo/yolov3_cases/python.html">Python Codes Explanation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="demo/yolov3_cases/python.html#case-0-decoding-and-preprocessing-with-opencv">Case 0: decoding and preprocessing with opencv</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="demo/4_mtcnn.html">Detection with MTCNN</a><ul>
<li class="toctree-l3"><a class="reference internal" href="demo/mtcnn_cases/usage.html">Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="demo/mtcnn_cases/usage.html#get-model-and-data">Get model and data</a></li>
<li class="toctree-l4"><a class="reference internal" href="demo/mtcnn_cases/usage.html#run-c-cases">Run C++ cases</a></li>
<li class="toctree-l4"><a class="reference internal" href="demo/mtcnn_cases/usage.html#run-python-cases">Run python cases</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="demo/mtcnn_cases/cpp.html">C++ Codes Explanation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="demo/mtcnn_cases/cpp.html#case-0">Case 0</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="demo/mtcnn_cases/python.html">Python Codes Explanation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="demo/mtcnn_cases/python.html#case-0">Case 0</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="2_module.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="module/sail.html">SAIL</a></li>
<li class="toctree-l2"><a class="reference internal" href="module/sail_cpp.html">SAIL C++ API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="module/sail_cpp.html#basic-function">Basic function</a></li>
<li class="toctree-l3"><a class="reference internal" href="module/sail_cpp.html#data-type">Data type</a></li>
<li class="toctree-l3"><a class="reference internal" href="module/sail_cpp.html#handle">Handle</a></li>
<li class="toctree-l3"><a class="reference internal" href="module/sail_cpp.html#tensor">Tensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="module/sail_cpp.html#iomode">IOMode</a></li>
<li class="toctree-l3"><a class="reference internal" href="module/sail_cpp.html#engine">Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="module/sail_cpp.html#bmimage">BMImage</a></li>
<li class="toctree-l3"><a class="reference internal" href="module/sail_cpp.html#decoder">Decoder</a></li>
<li class="toctree-l3"><a class="reference internal" href="module/sail_cpp.html#bmcv">Bmcv</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="module/sail_python.html">SAIL Python API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="module/sail_python.html#basic-function">Basic function</a></li>
<li class="toctree-l3"><a class="reference internal" href="module/sail_python.html#data-type">Data type</a></li>
<li class="toctree-l3"><a class="reference internal" href="module/sail_python.html#sail-handle">sail.Handle</a></li>
<li class="toctree-l3"><a class="reference internal" href="module/sail_python.html#sail-iomode">sail.IOMode</a></li>
<li class="toctree-l3"><a class="reference internal" href="module/sail_python.html#sail-tensor">sail.Tensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="module/sail_python.html#sail-engine">sail.Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="module/sail_python.html#sail-bmimage">sail.BMImage</a></li>
<li class="toctree-l3"><a class="reference internal" href="module/sail_python.html#sail-decoder">sail.Decoder</a></li>
<li class="toctree-l3"><a class="reference internal" href="module/sail_python.html#sail-bmcv">sail.Bmcv</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="0_get_start.html" class="btn btn-neutral float-right" title="Getting Started" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Sophon

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>