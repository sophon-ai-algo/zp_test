

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Model deployment &mdash; SophonInference  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="BMNNSDK" href="bmnnsdk.html" />
    <link rel="prev" title="Introduction" href="../3_introduction.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> SophonInference
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../0_products.html">Sophon Products</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1_crash_course.html">Crash Course</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../3_introduction.html">Introduction</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Model deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="bmnnsdk.html">BMNNSDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="si.html">Sophon Inference</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html">Sophon Inference Installation</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../demo/0_preface.html">Preface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../demo/1_resnet50.html">Classification with Resnet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../demo/2_ssd.html">Detection with SSD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../demo/3_yolov3.html">Detection with Yolov3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../demo/4_mtcnn.html">Detection with MTCNN</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../module/sail.html">SAIL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../module/sail_cpp.html">SAIL C++ API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../module/sail_python.html">SAIL Python API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">SophonInference</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../3_introduction.html">Introduction</a> &raquo;</li>
        
      <li>Model deployment</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/get_start/intros/deploy.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="model-deployment">
<h1>Model deployment<a class="headerlink" href="#model-deployment" title="Permalink to this headline">Â¶</a></h1>
<p>Model deployment includes two steps: model offline compilation and online reasoning.</p>
<p><strong>a).Offline Compilation</strong></p>
<p>This process corresponds to the blue part in the above figure.
Suppose the user has obtained a trained FP32 precision deep learning model,
then the user can directly compile the model to bmodel using BMCompiler.
The bmodel generated in this way can be reasoned using the FP32 computing units on the TPU.
The BMCompiler is a general term here. It contains four front-end tools that support four deep learning frameworks.
They are bmnetc(caffe), bmnett(tensorflow), bmnetm(mxnet), bmnetp(pytorch).</p>
<p>If the user wants to use the INT8 computing units on the TPU for reasoning,
Quantization &amp; Calibration tool can be used to quantify the original FP32 precision model to an INT8 precision model.
Finally, user can Compile the generated int8_umodel to bmodel using the bmnetu tool in BMCompiler.</p>
<p>The generation of bmodel does not depend on TPU.
Users only need to install the corresponding BBMCompiler and Quantization &amp; Calibration tools as needed to complete this step.
In theory, a deep learning model, as long as the bmodel can be finally generated, the bmodel can be deployed on Sophon TPUs.</p>
<p><strong>b).Online Reasoning</strong></p>
<p>This process corresponds to the process from input to output in the red part of the above figure.
Users can do images/video decoding, tensor processing and calculations, and bmodel operations based on the SAIL module in Sophon Inference.</p>
<p>This process needs to be performed in the environment where the TPU and driver are installed.</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="bmnnsdk.html" class="btn btn-neutral float-right" title="BMNNSDK" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../3_introduction.html" class="btn btn-neutral float-left" title="Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Sophon

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>